<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Htmlbuilder by Golgothan3</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Htmlbuilder</h1>
        <h2>Library For Constructing Simple HTML Documents in .NET</h2>
        <a href="https://github.com/Golgothan3/HtmlBuilder" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="htmlbuilder" class="anchor" href="#htmlbuilder" aria-hidden="true"><span class="octicon octicon-link"></span></a>HtmlBuilder</h1>

<p>This is a fairly simple, but really clean, in my opinion, library for building simple html. You can build individual elements through classes like <strong>HtmlElement</strong> or you can format entire Html Documents through the <strong>HtmlDocument</strong> class. </p>

<h3>
<a id="a-little-background" class="anchor" href="#a-little-background" aria-hidden="true"><span class="octicon octicon-link"></span></a>A Little Background</h3>

<p>I get it, there are plenty of libraries for working with HTML out there, plenty in .NET itself, however I looked through several and just didn't really like the way they worked and also didn't want to have all the extra baggage of methods and things I didn't need. What I really wanted was  </p>

<ul>
<li>Something simple</li>
<li>Something I had complete control over</li>
<li>Something that was built with a specific purpose in mind</li>
</ul>

<p>See, I actually built this for something at work. I'm redoing our report interface to output HTML into a WebBrowser control in WPF, and I only need the simplest HTML that will always be used with one specific type of browser. So, this seemed like a really fun and useful project to work, and so far, I really like how it has turned out.</p>

<h3>
<a id="creating-an-element" class="anchor" href="#creating-an-element" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating an Element</h3>

<p>The constructor for the <strong>HtmlElement</strong> class has 3 versions including the overloads. They allow you to instantiate a new <strong>HtmlElement</strong> with</p>

<ol>
<li>A <em>tag</em> (i.e. div, table, span, body, etc.)</li>
<li>A <em>tag</em> and an <em>id</em>
</li>
<li>A <em>tag</em>, an <em>id</em>, and a <em>class</em>
</li>
</ol>

<p>So, say you want to create a <em>div</em> element without a class or id. Using C# (as all my examples will) you would do</p>

<div class="highlight highlight-source-cs"><pre>HtmlElement div = <span class="pl-k">new</span> HtmlElement(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>); </pre></div>

<p>However, if you wanted to add a class called "redBackground", you could do so through the <strong>CssClass</strong> property on your <em>div</em> variable. </p>

<div class="highlight highlight-source-cs"><pre>div.CssClass.AddClass(<span class="pl-s"><span class="pl-pds">"</span>redBackground<span class="pl-pds">"</span></span>);</pre></div>

<p>You can add as many as you want, and remove them with the very originally named <strong>RemoveClass(string <em>className</em>)</strong> method.</p>

<p>Now that we've got the object, how do we get the HTML from it? Simple, just called everyone's favorite <strong>ToString()</strong> method, and we get</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>redBackground<span class="pl-pds">'</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<p>Say you want that to have a child element, though, how would you do that? Easy just create another element to nest</p>

<div class="highlight highlight-source-cs"><pre>HtmlElement span = <span class="pl-k">new</span> HtmlElement(<span class="pl-s"><span class="pl-pds">"</span>span<span class="pl-pds">"</span></span>);</pre></div>

<p>Then add it to the list property <strong>Children</strong> of the parent element.</p>

<div class="highlight highlight-source-cs"><pre>div.Children.Add(span);</pre></div>

<p>The best part about this is that if you want to output an element and all its children, you only have to call <strong>ToString()</strong> on the top-level element. So, if I call <strong>div.ToString()</strong> after we added that new element to it, it will look like this</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>redBackground<span class="pl-pds">'</span></span>&gt;&lt;<span class="pl-ent">span</span>&gt;&lt;/<span class="pl-ent">span</span>&gt;&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<h3>
<a id="attributes" class="anchor" href="#attributes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Attributes</h3>

<p>Attributes are also really easo to work with if I do say so myself. Using the previous example, say you want to add an attribute, other than <em>class</em> or <em>id</em> which have their own classes, just use the <strong>HtmlAttribute</strong> class. Say you want to add an attribute to that span called <em>data-order-number</em> and give it a value of <em>3B2</em>, then all you have to do is call the <strong>Add</strong> method on the property list <strong>Attributes</strong> of your <strong>HtmlElement</strong>.</p>

<div class="highlight highlight-source-cs"><pre>span.Attributes.Add(<span class="pl-k">new</span> HtmlAttribute(<span class="pl-s"><span class="pl-pds">"</span>data-order-number<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>3B2'));</span></pre></div>

<p>Now, when you call the <strong>ToString()</strong> method on the <em>div</em> variable, it will return this</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>redBackground<span class="pl-pds">'</span></span>&gt;&lt;<span class="pl-ent">span</span> <span class="pl-e">data-order-number</span>=<span class="pl-s"><span class="pl-pds">'</span>3B2<span class="pl-pds">'</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<p>Something to keep in mind is that empty attributes (i.e. data-order-number='') will not output in the string. It will be like they're not even in the <strong>Attributes</strong> list.</p>

<h5>
<a id="removing-attributes" class="anchor" href="#removing-attributes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Removing Attributes</h5>

<p>I wanted a little disclaimer here. While it may seem counterintuitive, you don't remove attributes simply by calling <em>Remove()</em> on the <strong>Attributes</strong> property. You actually call <strong>RemoveAttribute(string <em>attributeName</em>)</strong> on the <strong>HtmlElement</strong> itself. So, if you want to remove the attribute we added, you would do so like this</p>

<div class="highlight highlight-source-cs"><pre>span.RemoveAttribute(<span class="pl-s"><span class="pl-pds">"</span>data-order-number<span class="pl-pds">"</span></span>);</pre></div>

<p>This was a design choice <strong>AND</strong> limitation. You can't override the <em>Remove()</em> method for the <em>List</em> class, you have to implement <em>IList</em> in a new class, then do it, or inherit <em>List</em> in a subclass and write your own method, and both of those options seemed like unnecessary complexity. So, you can use the <strong>Remove()</strong> method in the <em>List</em> class, but it will require a variable or use of <em>LINQ</em> or something to reference the proper object to be removed from the list, which is possible, but much more difficult then the route I chose. See, <em>I did it for you, world. I did it for you...</em></p>

<h3>
<a id="adding-content" class="anchor" href="#adding-content" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adding Content</h3>

<p>Say you want to add text to that <em>span</em> element from earlier, how do you do it? You simply add a new <strong>HtmlContent</strong> object to the <strong>Children</strong> property of <em>span</em>. See, <strong>HtmlContent</strong> is a subclass of <strong>HtmlElement</strong>, which makes outputting it and adding it to the flow easy. You simply pass what text you want as an argument to the constructor when you instantiate it, and you're done!</p>

<div class="highlight highlight-source-cs"><pre>span.Children.Add(<span class="pl-k">new</span> HtmlContent(<span class="pl-s"><span class="pl-pds">"</span>Hello, Interwebz!<span class="pl-pds">"</span></span>);</pre></div>

<p>Now, when you output <em>div</em>, it will return</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">'</span>redBackground<span class="pl-pds">'</span></span>&gt;&lt;<span class="pl-ent">span</span> <span class="pl-e">data-order-number</span>=<span class="pl-s"><span class="pl-pds">'</span>3B2<span class="pl-pds">'</span></span>&gt;Hello, Interwebz!&lt;/<span class="pl-ent">span</span>&gt;&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<h3>
<a id="creating-an-html-document" class="anchor" href="#creating-an-html-document" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating an Html Document</h3>

<p>Okay, so, now you want to create an entire HTML page. That means you'll have to add a <em>head</em> element and <em>body</em> and <em>title</em> and so-on, right? <strong>HELL NO</strong>. That would suck. Just create a new <strong>HtmlDocument</strong> object and it handles that crap for you! All you have to do is set the doctype you want through the <strong>DocType</strong> property (you'll have to format the whole string yourself though, so don't forget the opening and closing arrows, etc.), add the string for the <em>src</em> and and <em>href</em> attributes of the <em>script</em> and <em>style</em> tags through the properties <strong>Stylesheets</strong> and <strong>Scripts</strong>, and call our trusty <strong>ToString()</strong> method. Now, this will get you what you <strong><em>need</em></strong>, but there are some static methods that may help you get what you <strong><em>want</em></strong>.</p>

<h5>
<a id="cleanup" class="anchor" href="#cleanup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cleanup</h5>

<p>Now, I'm not perfect, so when this outputs, there will be one annoying thing -- <em>lots of unnecessary whitespace</em>. This is a result of the way I parse and format the text, so the best way to handle this is to call the static method of the <strong>HtmlDocument</strong> class, <strong>Cleanup(string <em>html</em>)</strong> which returns a cleaned up version of your HTML string.</p>

<h5>
<a id="pretty-print" class="anchor" href="#pretty-print" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pretty Print</h5>

<p>When you output your <strong>HtmlDocument</strong> it will output as a single-line string. This won't affect how it renders in the browser or anything because it will parse and format it the best it can anyway, because it is smarter than us, and it knows it, however, if you decide that you want to see the HTML formatted in a tree-like markup structure, the way it <em>should</em> look, then call the static method <strong>PrettyPrint(string <em>html</em>)</strong> from the <strong>HtmlDocument</strong> class and it will return a version of the string with new lines and indentations to help it look totally formatted. Don't get me wrong, it has some drawbacks based on how it works internally, but it still <em>prints pretty</em>.</p>

<h3>
<a id="so" class="anchor" href="#so" aria-hidden="true"><span class="octicon octicon-link"></span></a>So...</h3>

<p>Through all that, plus everything we've already went over, you can output a completely valid and super sexy HTML string for whatever you need. Here's a little demo that is included in the Console Program called "ClassTest" in the Solution.</p>

<div class="highlight highlight-source-cs"><pre>HtmlDocument doc = <span class="pl-k">new</span> HtmlDocument(<span class="pl-s"><span class="pl-pds">"</span>HtmlBuilder Rocks<span class="pl-pds">"</span></span>);

doc.DocType = <span class="pl-s"><span class="pl-pds">"</span>&lt;!DOCTYPE html&gt;<span class="pl-pds">"</span></span>;

doc.AddStylesheet(<span class="pl-s"><span class="pl-pds">@"css/main.css"</span></span>);
doc.AddStylesheet(<span class="pl-s"><span class="pl-pds">@"css/backgrounds.css"</span></span>);

doc.AddScript(<span class="pl-s"><span class="pl-pds">@"js/jquery.js"</span></span>);

HtmlElement div = <span class="pl-k">new</span> HtmlElement(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>wrapper<span class="pl-pds">"</span></span>);
HtmlElement p = <span class="pl-k">new</span> HtmlElement(<span class="pl-s"><span class="pl-pds">"</span>p<span class="pl-pds">"</span></span>);
<span class="pl-k">string</span> baconFiller = <span class="pl-s"><span class="pl-pds">@"Bacon ipsum dolor amet spare ribs beef ribs porchetta meatloaf ham shoulder ham hock bresaola ball tip rump kielbasa swine alcatra kevin. Turducken andouille jowl, corned beef short ribs beef beef ribs flank fatback pork belly shank frankfurter cupim shoulder. Sirloin meatloaf porchetta t-bone. Sirloin kevin venison meatball tenderloin flank turducken pig tongue t-bone cow corned beef alcatra. Kielbasa landjaeger ball tip prosciutto salami pork chop tail rump fatback."</span></span>;
p.Children.Add(<span class="pl-k">new</span> HtmlContent(baconFiller));

doc.Body.Children.Add(div);
doc.Body.Children.Add(p);

<span class="pl-k">string</span> output = doc.ToString();
output = HtmlDocument.CleanupHtml(output);
output = HtmlDocument.PrettyPrint(output);

Console.WriteLine(output);

<span class="pl-c">//This line just makes the console window stay open, it doesn't actually do anything</span>
Console.In.Read();</pre></div>

<p>Here is the output</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;!DOCTYPE html&gt;
&lt;<span class="pl-ent">html</span>&gt;
    &lt;<span class="pl-ent">head</span>&gt;
        &lt;<span class="pl-ent">title</span>&gt;HtmlBuilder Rocks
        &lt;/<span class="pl-ent">title</span>&gt;
        &lt;<span class="pl-ent">link</span> <span class="pl-e">rel</span>=<span class="pl-s"><span class="pl-pds">'</span>stylesheet<span class="pl-pds">'</span></span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">'</span>css/main.css<span class="pl-pds">'</span></span>&gt;
        &lt;/<span class="pl-ent">link</span>&gt;
        &lt;<span class="pl-ent">link</span> <span class="pl-e">rel</span>=<span class="pl-s"><span class="pl-pds">'</span>stylesheet<span class="pl-pds">'</span></span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">'</span>css/backgrounds.css<span class="pl-pds">'</span></span>&gt;
        &lt;/<span class="pl-ent">link</span>&gt;
    &lt;/<span class="pl-ent">head</span>&gt;
    &lt;<span class="pl-ent">body</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">Id</span>=<span class="pl-s"><span class="pl-pds">'</span>wrapper<span class="pl-pds">'</span></span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;
        &lt;<span class="pl-ent">p</span>&gt;Bacon ipsum dolor amet spare ribs beef ribs porchetta meatloaf ham shoulder ham hock bresaola ball tip rump kielbasa swine alcatra kevin. Turducken andouille jowl, corned beef short ribs beef beef ribs flank fatback pork belly shank frankfurter cupim shoulder. Sirloin meatloaf porchetta t-bone. Sirloin kevin venison meatball tenderloin flank turducken pig tongue t-bone cow corned beef alcatra. Kielbasa landjaeger ball tip prosciutto salami pork chop tail rump fatback.
        &lt;/<span class="pl-ent">p</span>&gt;
<span class="pl-s1">        &lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">'</span>js/jquery.js<span class="pl-pds">'</span></span>&gt;</span>
<span class="pl-s1">        &lt;/<span class="pl-ent">script</span>&gt;</span>
    &lt;/<span class="pl-ent">body</span>&gt;
&lt;/<span class="pl-ent">html</span>&gt;</pre></div>

<p>Which doesn't look half-bad, in my honest opinion. Here it is if you hadn't called the <strong>PrettyPrint</strong> method.</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;!DOCTYPE html&gt;&lt;<span class="pl-ent">html</span>&gt;&lt;<span class="pl-ent">head</span>&gt;&lt;<span class="pl-ent">title</span>&gt;HtmlBuilder Rocks&lt;/<span class="pl-ent">title</span>&gt;&lt;<span class="pl-ent">link</span> <span class="pl-e">rel</span>=<span class="pl-s"><span class="pl-pds">'</span>stylesheet<span class="pl-pds">'</span></span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">'</span>css/main.css<span class="pl-pds">'</span></span>&gt;&lt;/<span class="pl-ent">link</span>&gt;&lt;<span class="pl-ent">link</span> <span class="pl-e">rel</span>=<span class="pl-s"><span class="pl-pds">'</span>stylesheet<span class="pl-pds">'</span></span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">'</span>css/backgrounds.css<span class="pl-pds">'</span></span>&gt;&lt;/<span class="pl-ent">link</span>&gt;&lt;/<span class="pl-ent">head</span>&gt;&lt;<span class="pl-ent">body</span>&gt;&lt;<span class="pl-ent">div</span> <span class="pl-e">Id</span>=<span class="pl-s"><span class="pl-pds">'</span>wrapper<span class="pl-pds">'</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;&lt;<span class="pl-ent">p</span>&gt;Bacon ipsum dolor amet spare ribs beef ribs porchetta meatloaf ham shoulder ham hock bresaola ball tip rump kielbasa swine alcatra kevin. Turducken andouille jowl, corned beef short ribs beef beef ribs flank fatback pork belly shank frankfurter cupim shoulder. Sirloin meatloaf porchetta t-bone. Sirloin kevin venison meatball tenderloin flank turducken pig tongue t-bone cow corned beef alcatra. Kielbasa landjaeger ball tip prosciutto salami pork chop tail rump fatback.&lt;/<span class="pl-ent">p</span>&gt;&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">'</span>js/jquery.js<span class="pl-pds">'</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;&lt;/<span class="pl-ent">body</span>&gt;&lt;/<span class="pl-ent">html</span>&gt;</pre></div>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/Golgothan3/HtmlBuilder/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/Golgothan3/HtmlBuilder/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/Golgothan3/HtmlBuilder"></a> is maintained by <a href="https://github.com/Golgothan3">Golgothan3</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
